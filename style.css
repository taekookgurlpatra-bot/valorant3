/* ---------------- PAGE NAVIGATION ---------------- */

let pages = document.querySelectorAll(".page")
let current = 0

function go(num){
pages[current].classList.remove("active")
current = num
pages[current].classList.add("active")
}

/* Auto move intro to menu */
setTimeout(()=>go(1),3500)



/* ---------------- HEART RAIN ---------------- */

setInterval(()=>{
let h = document.createElement("span")
h.innerHTML = "ğŸ’—"
h.className = "heartDrop"
h.style.left = Math.random()*100+"vw"
h.style.fontSize = Math.random()*20+15+"px"
document.body.appendChild(h)

setTimeout(()=>h.remove(),6000)

},400)



/* ---------------- MUSIC PLAYER ---------------- */

let songs = [
new Audio("assets/song1.mp3"),
new Audio("assets/song2.mp3"),
new Audio("assets/song3.mp3")
]

function playSong(i){
songs.forEach(s=>s.pause())
songs[i].play()
}



/* ---------------- QUIZ ---------------- */

let q = 0
let score = 0

let questions = [

["Where did we first start talking?",
["Instagram DMs","WhatsApp","Discord","Snapchat"],0],

["Who confessed first?",
["You","Ashraf","Both together","Still confused ğŸ˜‹"],0],

["Our favourite thing to do together is?",
["Talking endlessly","Watching stuff","Sending reels","All of the above"],3],

["What best describes our relationship vibe?",
["Chaotic but cute","Soft & comforting","Funny & dramatic","All of the above"],3],

["What reminds me of Ashraf instantly?",
["Songs","Late night talks","Cute messages","All of the above"],3],

["What do we do after small fights?",
["Ignore","Talk it out","Send memes","Virtual hug"],3],

["My favourite thing about Ashraf?",
["Personality","Caring nature","Smile & humour","Everything"],3],

["Which emoji represents us best?",
["ğŸ«‚","ğŸ’—","ğŸ˜‹âœ¨","All of them"],3],

["Our relationship feels like?",
["Best friendship","Safe home","Adventure","All of the above"],3],

["What do I want our future to look like?",
["Travelling together","Cozy life","Creating memories","All of the above"],3]

]


function loadQ(){

let box = document.getElementById("quizBox")

if(!box) return

let data = questions[q]

box.innerHTML = `
<h2>${data[0]}</h2>
${data[1].map((opt,i)=>
`<button onclick="answer(${i})">${opt}</button>`
).join("")}
`
}

function answer(i){

if(i === questions[q][2]) score++

q++

if(q < questions.length){
loadQ()
}
else{
finishQuiz()
}

}

function finishQuiz(){

let percent = score*10
let msg = ""

if(percent>=90) msg="Okay wow Ashrafâ€¦ certified soulmate ğŸ˜‹ğŸ’—"
else if(percent>=70) msg="Not badâ€¦ tum dhyaan dete ho mujhe ğŸ˜Œâœ¨"
else if(percent>=50) msg="Hmm improvement needed mister ğŸ˜"
else msg="Punishment = extra hugs owed ğŸ«‚"

document.getElementById("quizBox").innerHTML = `
<h2>${percent}%</h2>
<p>${msg}</p>
<button onclick="go(7)">Open Letters ğŸ’Œ</button>
`
}



/* Load quiz safely */
window.onload = ()=>{
loadQ()
}



/* ---------------- LETTER OPEN ---------------- */

function openLetter(id){

document.getElementById(id+"Open").style.display="block"

if(id==="l1"){
document.getElementById("l1").innerText =
`Hii Ashraf jaanu ğŸ’—âœ¨

Happy Valentineâ€™s Day meri jaanâ€¦ğŸ¤­ğŸ’—

Door rehna mushkil hota haiâ€¦ but tum meri comfort ho ğŸ«‚ğŸ€

Tum meri safe place hoâ€¦ meri happiness ho ğŸ¥¹ğŸ’—

I love you endlessly Ashraf ğŸ«µğŸ»ğŸ’—`
}

if(id==="l2"){
document.getElementById("l2").innerText =
`Ashraf ğŸ’—

Thank you mujhe choose karne ke liyeâ€¦ğŸ¥¹âœ¨

Thank you best boyfriend hone ke liye ğŸ˜‰ğŸ«µğŸ»

Main hamesha tumhare saath rahungi ğŸ«‚ğŸ€

Iâ€™m proud to call you mine ğŸ˜‹ğŸ’—`
}

}



/* ---------------- MINI GAME : TAP HEART ---------------- */

function startHeartGame(){

let area = document.getElementById("gameArea")

area.innerHTML = `
<h3>Tap hearts before time ends ğŸ’—</h3>
<p id="score">Score: 0</p>
<div id="heartField"></div>
`

let score = 0
let scoreText = document.getElementById("score")
let field = document.getElementById("heartField")

let spawn = setInterval(()=>{

let heart = document.createElement("span")
heart.innerHTML="ğŸ’—"
heart.style.fontSize="35px"
heart.style.margin="10px"
heart.style.cursor="pointer"

heart.onclick = ()=>{
score++
scoreText.innerText = "Score: "+score
heart.remove()
}

field.appendChild(heart)

},700)


setTimeout(()=>{
clearInterval(spawn)
alert("Game Over ğŸ’— Score: "+score)
},10000)

}
